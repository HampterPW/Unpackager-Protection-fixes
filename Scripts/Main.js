var JSZip=new JSZip;const findFileInZip=(t,e)=>e.file(t)||e.file(RegExp("^([^/]*/)?"+t+"$"))[0];async function Obf(t="",e){try{let n=new DOMParser,r=n.parseFromString(t,"text/html");if(null!=r.querySelector('data[data-t="_"]'))return console.log("Already protected"),r.documentElement.outerHTML;let o=r.getElementsByTagName("script"),a=o[2].getAttribute("type");if(!a)throw Error("Failed to find project Id");console.log(a);let l=Array.from(r.querySelectorAll(`script[type="${a}"]`));(t=>{var e;let n=t=>(40===t&&(t=60),41===t&&(t=62),t-42),r=t.indexOf(","),o=+t.substring(0,r).split("").map(t=>String.fromCharCode(t.charCodeAt(0)-49)).join(""),a=new ArrayBuffer((e=o)%4==0?e:e+(4-e%4)),l=new Uint32Array(a);for(let c=r+1,d=0;c<t.length;c+=5,d++)l[d]=85*n(t.charCodeAt(c+4))*614125+85*n(t.charCodeAt(c+3))*7225+85*n(t.charCodeAt(c+2))*85+85*n(t.charCodeAt(c+1))+n(t.charCodeAt(c));return new Uint8Array(a,0,o)})(l.map(t=>t.textContent).join("")),l.forEach(t=>{let e=r.createElement("data");e.textContent=t.textContent,e.setAttribute("type",t.getAttribute("type")),r.body.replaceChild(e,t)}),o[o.length-2].textContent=o[o.length-2].textContent.replace("script","data"),e>=2&&(Array.from(r.querySelectorAll(`data[type="${a}"]`)).forEach(t=>t.textContent=btoa(t.textContent)),o[o.length-2].textContent=o[o.length-2].textContent.replace("i.textContent","atob(i.textContent)"));let c=r.createElement("data");return c.dataset.t="_",r.body.append(c),r.documentElement.outerHTML}catch(d){Output(d,"Error")}}
